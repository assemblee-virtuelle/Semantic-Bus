!function(n,e){"function"==typeof define&&define.amd?define([],function(){return n.W=e()}):"object"==typeof exports?module.exports=e():n.W=e()}(this,function(){function n(){var n;if("orientation"in window){var e=window.orientation;n=90==e||e==-90}else n=window.innerWidth>window.innerHeight;return n?"landscape":"portrait"}function e(e){var t=screen.width,i=screen.height;if("landscape"==n()&&t<i&&(t=screen.height,i=screen.width),e)return{width:t,height:i};var r=window.innerWidth,o=window.innerHeight;return(!r||!o||r>t||o>i||980==r)&&(r=window.outerWidth,o=window.outerHeight),(!r||!o||r>t||o>i)&&(r=screen.availWidth,o=screen.availHeight),{width:r,height:o}}var t=[],i=!1,r=!1,o=!1;window.addEventListener?("onorientationchange"in window&&(r=!0,window.addEventListener("orientationchange",function(){o=!0},!1)),window.addEventListener("resize",function(){i=!0},!1)):window.attachEvent("onresize",function(){i=!0}),setInterval(function(){var n=!1;if(r?o&&i&&(n=!0):i&&(n=!0),n&&document.documentElement.clientWidth){o=!1,i=!1;for(var e=0,d=t.length;e<d;++e)t[e].func()}},10);var d={getViewportDimensions:function(n){return e(n)},getViewportWidth:function(n){return e(n).width},getViewportHeight:function(n){return e(n).height},getOrientation:function(){return n()},addListener:function(n,e){return t.push({func:n,key:e}),n},removeListener:function(n){for(var e=0,i=t.length;e<i;++e)if(t[e].key==n){t.splice(e,1);break}},clearListeners:function(){t=[]},trigger:function(n){for(var e=0,i=t.length;e<i;++e)"undefined"!=typeof n&&t[e].key!=n||t[e].func()}};return d});