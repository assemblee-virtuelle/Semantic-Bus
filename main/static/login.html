<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <title>GRAPPE</title>
  <!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href='https://fonts.googleapis.com/css?family=Ubuntu|Ubuntu+Mono' rel='stylesheet' type='text/css'>
  <link href='https://cdn.jsdelivr.net/semantic-ui/2.1.8/semantic.min.css' rel='stylesheet' type='text/css'>-->
  <link href='./css/flex.css' rel='stylesheet' type='text/css'>
  <link href='./css/main.css' rel='stylesheet' type='text/css'>
  <link href='./js/jsonEditor/dist/jsoneditor.min.css' rel='stylesheet' type='text/css'>
  <script src="https://cdn.jsdelivr.net/npm/riot@3.7.0/riot+compiler.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/riot-route@3.1.2/dist/route+tag.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
  <script src="./js/RiotControl/riotcontrol.js"></script>
  <script src="./store/userStore.js"></script>
  <script type="riot/tag" src="tag/login.tag"></script>

</head>

<body>
  <login></login>


  <style>
      body{
    font-family: 'Open Sans', sans-serif;
    display: flex;
    flex-direction: column;
  }</style>

  <script>



  var userStore = new UserStore(); // Create a store instance.

  RiotControl.addStore(userStore); // Register the store in central dispatch.
  RiotControl.on('application_redirect', function(){
    console.log("trigger");
    window.open("../ihm/application.html#myWorkspaces", "_self");
  })
  console.log(window.location.href)
  RiotControl.trigger('https_force?')
  riot.compile(function() {
    // here tags are compiled and riot.mount works synchronously
    var tags = riot.mount('*');
    /*RiotControl.on('previewJSON',function(message){
      tags[2].data=message.data;
    }.bind(this));*/
  });


  </script>

</body>

</html>
